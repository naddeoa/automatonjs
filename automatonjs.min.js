!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.automatonjs=t()}}(function(){return function t(n,i,e){function a(o,p){if(!i[o]){if(!n[o]){var s="function"==typeof require&&require;if(!p&&s)return s(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var f=i[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return a(i?i:t)},f,f.exports,t,n,i,e)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<e.length;o++)a(e[o]);return a}({1:[function(t,n){function i(){this.initial=null,this._states={}}var e=t("app/Identifiable"),a=t("app/State");i.prototype=Object.create(e.prototype),i.prototype.toJSON=function(t,n){var i=[],e=[];for(var a in this._states)if(this._states.hasOwnProperty(a)){var r=this._states[a];i.push(r);for(var o in r._transitions)if(r._transitions.hasOwnProperty(o)){var p=r._transitions[o];e.push(p)}}return JSON.stringify({states:i,transitions:e},t,n)},i.prototype.addState=function(t){this._states[t.id]=t},i.prototype.removeState=function(t){t instanceof a?delete this._states[t.id]:delete this._states[t]},i.prototype.length=function(){return Object.keys(this._states).length},i.prototype.run=function(t){var n=t.split("");if(0===n.length)return!1;for(var i=this.initial,e=null;e=n.shift();)if(!(i=i.run(e)))return!1;return i.accept},n.exports=i},{"app/Identifiable":3,"app/State":5}],2:[function(t,n){var i=(t("app/Identifiable"),t("app/State")),e=(t("app/Transition"),t("app/Automaton")),a=t("app/Input"),r={singleChar:function(t){if(1!==t.length)throw"input must be a single character";var n=new i;n.start=!0;var a=new i;a.accept=!0,n.addTransition(a,t);var r=new e;return r.addState(n),r.initial=n,r.addState(a),r},firstAndLastChar:function(t,n){if(1!==t.length||1!==n.length)throw"input must be a single character";var r=new i;r.start=!0;var o=new i,p=new i;p.accept=!0,r.addTransition(o,t),o.addTransition(p,n);var s=a.without(n),u=s[0],f=s[1];o.addTransition(o,u[0],u[u.length-1]),o.addTransition(o,f[0],f[f.length-1]);var d=new e;return d.addState(r),d.initial=r,d.addState(o),d.addState(p),d}};n.exports=r},{"app/Automaton":1,"app/Identifiable":3,"app/Input":4,"app/State":5,"app/Transition":6}],3:[function(t,n){function i(){this.id=this.nextId()}i.prototype={_currentId:0,nextId:function(){return++i.prototype._currentId},toJSON:function(){return JSON.stringify({id:this.id})}},n.exports=i},{}],4:[function(t,n){var i={EMPTY:"-1",WILDCARD:"-2",ALPHABET:Object.freeze(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),without:function(t){var n=i.ALPHABET.slice(0),e=i.ALPHABET.indexOf(t),a=[];return e>-1&&(a.push(n.slice(0,e)),a.push(n.slice(e+1))),a}};Object.freeze(i),n.exports=i},{}],5:[function(t,n){function i(){e.apply(this),this.start=!1,this.accept=!1,this._transitions={}}var e=t("app/Identifiable"),a=t("app/Transition");i.prototype=Object.create(e.prototype),i.prototype.toJSON=function(t,n){return JSON.stringify({id:this.id,start:this.start,accept:this.accept},t,n)},i.prototype.run=function(t){for(var n in this._transitions)if(this._transitions.hasOwnProperty(n)){var i=this._transitions[n];if(i.accepts(t))return i.toState}return null},i.prototype.addTransition=function(t,n,i){var e=new a(this,t,n,i);return this._transitions[e.id]=e,e.id},i.prototype.removeTransition=function(t){t instanceof a?delete this._transitions[t.id]:delete this._transitions[t]},i.prototype.length=function(){return Object.keys(this._transitions).length},n.exports=i},{"app/Identifiable":3,"app/Transition":6}],6:[function(t,n){function i(t,n,i,a){e.apply(this),this.min=i,this.max=a||i,this.toState=n,this.fromState=t}{var e=t("app/Identifiable");t("app/State")}i.prototype=Object.create(e.prototype),i.prototype.accepts=function(t){return this.min<=t&&t<=this.max},i.prototype.toJSON=function(t,n){return JSON.stringify({id:this.id,min:this.min,max:this.max,toState:this.toState.id,fromState:this.fromState.id},t,n)},i.prototype.toString=function(){return this.fromState+"("+this.min+":"+this.max+") -> "+this.toState},n.exports=i},{"app/Identifiable":3,"app/State":5}],automatonjs:[function(t,n,i){i.Automaton=t("app/Automaton"),i.AutomatonBuilder=t("app/AutomatonBuilder"),i.State=t("app/State"),i.Input=t("app/Input"),i.Transition=t("app/Transition")},{"app/Automaton":1,"app/AutomatonBuilder":2,"app/Input":4,"app/State":5,"app/Transition":6}]},{},[])("automatonjs")});
